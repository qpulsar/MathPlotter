{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/maker.css' %}">
{% endblock %}

{% block content %}
{% include "partials/toolbar.html" %}
{% include "partials/tabbar.html" %}

<div id="content-area" class="flex-grow-1">
    <div id="side-menu">
        <div class="menu-item menu-hareket" data-tooltip="Hareket">
            <i class="fas fa-arrows-alt"></i>
        </div>
        <div class="menu-item menu-donusum" data-tooltip="Dönüşüm">
            <i class="fas fa-sync"></i>
        </div>
        <div class="menu-item menu-ses" data-tooltip="Ses">
            <i class="fas fa-volume-up"></i>
        </div>
        <div class="menu-item menu-olaylar" data-tooltip="Olaylar">
            <i class="fas fa-bolt"></i>
        </div>
        <div class="menu-item menu-kontrol" data-tooltip="Kontrol">
            <i class="fas fa-cog"></i>
        </div>
        <div class="menu-item menu-algilama" data-tooltip="Algılama">
            <i class="fas fa-eye"></i>
        </div>
        <div class="menu-item menu-operatorler" data-tooltip="Operatörler">
            <i class="fas fa-calculator"></i>
        </div>
        <div class="menu-item menu-degiskenler" data-tooltip="Değişkenler">
            <i class="fas fa-cube"></i>
        </div>
        <div class="menu-item menu-bloklar" data-tooltip="Bloklarım">
            <i class="fas fa-th-large"></i>
        </div>
    </div>
    <div id="main-content">
        <div id="canvas-container">
            <div id="blocks-area">
                <div class="blocks-category" data-category="hareket">
                    <!-- 10 adım git bloğu -->
                    <svg width="200" height="58" class="block">
                        <g class="block-group">
                            <path class="blocklyPath blocklyBlockBackground" 
                                  stroke="#3373CC" 
                                  fill="#4C97FF" 
                                  fill-opacity="1" 
                                  d="m 0,4 A 4,4 0 0,1 4,0 H 12 c 2,0 3,1 4,2 l 4,4 c 1,1 2,2 4,2 h 12 c 2,0 3,-1 4,-2 l 4,-4 c 1,-1 2,-2 4,-2 H 156.921 a 4,4 0 0,1 4,4 v 32 a 4,4 0 0,1 -4,4 H 48 c -2,0 -3,1 -4,2 l -4,4 c -1,1 -2,2 -4,2 h -12 c -2,0 -3,-1 -4,-2 l -4,-4 c -1,-1 -2,-2 -4,-2 H 4 a 4,4 0 0,1 -4,-4 z">
                            </path>
                            <foreignObject x="12" y="10" width="40" height="20">
                                <div xmlns="http://www.w3.org/1999/xhtml">
                                    <input type="number" value="10" class="blocklyNumberInput" min="0" max="100">
                                </div>
                            </foreignObject>
                            <text x="60" y="24" class="blocklyText">adım git</text>
                        </g>
                    </svg>

                    <!-- Saat yönünde 15 derece dön bloğu -->
                    <svg width="200" height="58" class="block">
                        <g class="block-group">
                            <path class="blocklyPath blocklyBlockBackground" 
                                  stroke="#3373CC" 
                                  fill="#4C97FF" 
                                  fill-opacity="1" 
                                  d="m 0,4 A 4,4 0 0,1 4,0 H 12 c 2,0 3,1 4,2 l 4,4 c 1,1 2,2 4,2 h 12 c 2,0 3,-1 4,-2 l 4,-4 c 1,-1 2,-2 4,-2 H 156.921 a 4,4 0 0,1 4,4 v 32 a 4,4 0 0,1 -4,4 H 48 c -2,0 -3,1 -4,2 l -4,4 c -1,1 -2,2 -4,2 h -12 c -2,0 -3,-1 -4,-2 l -4,-4 c -1,-1 -2,-2 -4,-2 H 4 a 4,4 0 0,1 -4,-4 z">
                            </path>
                            <text x="12" y="24" class="blocklyText">⟳ 15 derece dön</text>
                        </g>
                    </svg>

                    <!-- Saat yönünün tersine 15 derece dön bloğu -->
                    <svg width="200" height="58" class="block">
                        <g class="block-group">
                            <path class="blocklyPath blocklyBlockBackground" 
                                  stroke="#3373CC" 
                                  fill="#4C97FF" 
                                  fill-opacity="1" 
                                  d="m 0,4 A 4,4 0 0,1 4,0 H 12 c 2,0 3,1 4,2 l 4,4 c 1,1 2,2 4,2 h 12 c 2,0 3,-1 4,-2 l 4,-4 c 1,-1 2,-2 4,-2 H 156.921 a 4,4 0 0,1 4,4 v 32 a 4,4 0 0,1 -4,4 H 48 c -2,0 -3,1 -4,2 l -4,4 c -1,1 -2,2 -4,2 h -12 c -2,0 -3,-1 -4,-2 l -4,-4 c -1,-1 -2,-2 -4,-2 H 4 a 4,4 0 0,1 -4,-4 z">
                            </path>
                            <text x="12" y="24" class="blocklyText">⟲ 15 derece dön</text>
                        </g>
                    </svg>

                    <!-- x:[] y:[] konumuna git bloğu -->
                    <svg width="200" height="58" class="block">
                        <g class="block-group">
                            <path class="blocklyPath blocklyBlockBackground" 
                                  stroke="#3373CC" 
                                  fill="#4C97FF" 
                                  fill-opacity="1" 
                                  d="m 0,4 A 4,4 0 0,1 4,0 H 12 c 2,0 3,1 4,2 l 4,4 c 1,1 2,2 4,2 h 12 c 2,0 3,-1 4,-2 l 4,-4 c 1,-1 2,-2 4,-2 H 156.921 a 4,4 0 0,1 4,4 v 32 a 4,4 0 0,1 -4,4 H 48 c -2,0 -3,1 -4,2 l -4,4 c -1,1 -2,2 -4,2 h -12 c -2,0 -3,-1 -4,-2 l -4,-4 c -1,-1 -2,-2 -4,-2 H 4 a 4,4 0 0,1 -4,-4 z">
                            </path>
                            <text x="12" y="24" class="blocklyText">x: <tspan class="blocklyInput">0</tspan> y: <tspan class="blocklyInput">0</tspan> konumuna git</text>
                        </g>
                    </svg>
                </div>

                <div class="blocks-category" data-category="olaylar">
                    <!-- Yeşil bayrak tıklandığında bloğu -->
                    <svg width="200" height="65" class="block">
                        <g class="block-group">
                            <path class="blocklyPath blocklyBlockBackground" 
                                  stroke="#CC9900" 
                                  fill="#FFBF00" 
                                  fill-opacity="1" 
                                  d="m 0,-8 A 8,8 0 0,1 8,-16 H 15 c 2,0 3,1 4,2 l 4,4 c 1,1 2,2 4,2 h 12 c 2,0 3,-1 4,-2 l 4,-4 c 1,-1 2,-2 4,-2 H 156.921 a 8,8 0 0,1 8,8 V 40 a 4,4 0 0,1 -4,4 H 48 c -2,0 -3,1 -4,2 l -4,4 c -1,1 -2,2 -4,2 h -12 c -2,0 -3,-1 -4,-2 l -4,-4 c -1,-1 -2,-2 -4,-2 H 4 a 4,4 0 0,1 -4,-4 z">
                            </path>
                            <image href="{% static 'images/greenflag.svg' %}" x="12" y="8" width="20" height="20"/>
                            <text x="40" y="24" class="blocklyText" style="font-size: 12px;">bayrak tıklandığında</text>
                        </g>
                    </svg>
                </div>
            </div>
            <div id="plot-area">
                <canvas id="plot-canvas"></canvas>
            </div>
        </div>
        <div id="right-panel">
            <!-- Sağ panel içeriği buraya gelecek -->
        </div>
    </div>
</div>

{% include "partials/footbar.html" %}
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/block-operations.js' %}" type="module"></script>
<script src="{% static 'js/maker.js' %}" type="module"></script>
{% endblock %}